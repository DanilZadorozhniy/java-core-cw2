# Java 8 Core exam: Movie ticket booking system
Предметная область: системы бронирования билетов
Время: 3 - 4 часа
Дата проведения: 29.12.17 17:00 - 21:00

## Описание предметной области
* Бронирование мест на любимый фильм в кинотеатре.
* Прокат фильмов в кинотеатре идет в диапазоне дат (с … по). Для простоты мы учитываем только текущую неделю (сегодня пятница).
* В кинотеатре 2 зала: малый (10 мест) и большой (20 мест).
* Можно бронировать: по телефону, email, через форму с оф. сайта.

## Files
1. Расписание фильмов на неделю: film-schedule.txt
```
id | id_film | Зал (small|big) | Стоимость (uah) | Дата | Время (начало) | Формат (3D)
```
2. Подробное описание фильмов film-details.txt
```
id_film | Название | Страна | Год выхода | Жанр [боевик,комедия,фэнтези] | Актеры [Билл Дьюк, Арнольд Шварценеггер, ...] | Бюджет ($) | Продолжительность (мин) | Рейтинг (10 звезд) | Description (255+ characters) |
```
3. Забронированные места: bookings.txt
```
id | Дата | Время | id_film | № места | Дата/время брони | First name | Second Name | email | mobile
```
4. Реестр "кидал" (забронировали, но не явились вовремя): users-black-list.txt
```
Date/Time | First name | Second Name | email | mobile |
```

**Внимание!** Файлы с исходными данными комитим вместе с проектом. В каждом файле должно быть не менее 5 записей. Не привязываемся к ОС (т.е. никаких абсолютных путей к файлам).

# Задания
## Task 1. Бронирование мест
Реализовать возможность бронирования билетов на любой фильм, который есть на текущей неделе. Загружаем инфу из *Files*.

**Вывод информации:**
* По заданной дате (если не задана, то берется текущая) и времени (если время не задано, то берем весь день) вывести список фильмов с временем начала/конца и залом, количество свободных мест
* По заданному фильму вывести подробную инфу о фильме, время начала/окончания, зал, к-во свободных мест
* По заданному фильму и дате/времени начала вывести зал и № места (free | sold | booked).
* При бронировании необходимо учесть, что место должно быть free. Сохраняем инфу о забронированных местах в bookings.txt.
* Если бронирует товарищ из black list и он уже там 3 раза и более, то запрещаем бронирование (отправляем юзеру уведомление, что он "жулик").
* При успешном бронировании юзеру отправляем на email или mobile (просто выводите инфу в файл) подтверждение с: id-бронирования, дата/время сеанса, названием фильма, зал (малый|большой), № места.
* Если место забронировано или продано, отправляем соответствующее сообщение. Как вариант можно предложить забукать свободные места (вывести список № мест) или предложить на другое время (если свободных мест нет).

## Task 2. Add Concurrency
Моделируем бронирование билетов с помощью нескольких потоков. Создаем в каждом потоке юзера, которых будет бронировать себе билеты на один или несколько сеансов.

## Task 3. Add Scheduling
Создаем задачи, которые запускаются каждые N минут и выполняют следующее:
1. Смотрит на все сеансы за сегодняшний день, которые начнутся через 1 час и отправляет уведомление на email (letter) или mobile (SMS) за 1 час, потом за 30 минут до начала забронированного фильма.
2. Смотрит на текущее время сеансы и бронь по ним. Если бронь не подтвердили, снимаем бронь и помещаем юзера в black list.

## Примечания
* Task 1 обязательный. Task 2 и Task 3 идут по мере усложнения и являются опциональными.
* Выполненные задачи комитим в отдельную ветку “java-core-exam” и в конце контрольной создаем merge request на вашего ментора. Пушим в том состоянии, в котором есть. После контрольной по желанию можно дописать реализацию полностью.
* Оценку по контрольной вы узнаете в течении 3-5 дней.
* Очень поощряется покрытие кода Unit-тестами.

## Как оцениваем
* Минимальная реализация Task 1 - “трояк”
* Полная реализация Task 1 - “хорошо”
* Реализация Task 1 и Task 2 (даже в минимальном виде) - “отлично”
* Реализация Task 1, 2 и 3 - такого не бывает :)